[gd_scene load_steps=14 format=4 uid="uid://br5o8skjv87ol"]

[ext_resource type="TileSet" uid="uid://5ivo5cch6dya" path="res://Packed Scenes/Rooms/Tiles.tres" id="1_dm2wn"]
[ext_resource type="Script" uid="uid://dyta3irgr10y" path="res://Scripts/General/Room.cs" id="1_k3swd"]
[ext_resource type="PackedScene" uid="uid://bidfdywgj441a" path="res://Packed Scenes/User Interface/MainUI.tscn" id="2_4viov"]
[ext_resource type="PackedScene" uid="uid://dcfyx3omcemb5" path="res://Packed Scenes/Characters/Characters/Player.tscn" id="3_k3swd"]
[ext_resource type="Script" uid="uid://cb2oepdfbuorf" path="res://Scripts/General/FollowCamera.cs" id="4_xa533"]
[ext_resource type="PackedScene" uid="uid://bd81iedhj88bp" path="res://Packed Scenes/Items/Pistol.tscn" id="7_nkbej"]
[ext_resource type="PackedScene" uid="uid://dwtu0dg70hhg7" path="res://Packed Scenes/Characters/Characters/tutorial_npc.tscn" id="8_daijy"]
[ext_resource type="PackedScene" uid="uid://tt8pocwt0mag" path="res://Packed Scenes/Characters/Characters/Chihuahua.tscn" id="9_1s0ds"]
[ext_resource type="PackedScene" uid="uid://dsj5m6w0s2ksw" path="res://Packed Scenes/Doors/BlueDoor.tscn" id="10_1s0ds"]
[ext_resource type="PackedScene" uid="uid://cckd5u6wwg8gx" path="res://Packed Scenes/Characters/Characters/Husky.tscn" id="10_x2143"]
[ext_resource type="PackedScene" uid="uid://deaktrwtthk0t" path="res://Packed Scenes/Items/blue_key.tscn" id="11_x2143"]
[ext_resource type="PackedScene" uid="uid://dr3v1a3gjfp8n" path="res://Packed Scenes/User Interface/scene_transition.tscn" id="12_uri7o"]

[sub_resource type="NavigationPolygon" id="NavigationPolygon_1s0ds"]
vertices = PackedVector2Array(62, 781, 61.289063, 781, 62, 755.5, 494, 781, 370, 781, 370, 730, 494, 730, 777.15625, 224.02344, 782, 215.46875, 782, 226, 710, 350, 787.5703, 226, 822.90625, 350, 746.52344, 82, 763.0078, 139.88281, 746.5, 139.89844, 710, 82, 736.28125, 224.02344, 710, 442, 638, 566, 566, 638, 514, 659.5703, 442, 662.5703, 442, 659.5703, 586, 154, 298, 10, 298, -21.296875, 350, -21.148438, 350, 154, 586, 10, 710, 10, 782, 442, 782, 566, 638, 638, 566, 710, 514, 710, 350, 663.40625, 350, 710, 298, 710, 298, 638, 226, 638, 226, 566, 154, 566, 154, 10, 721.9375, 163.85156, 721.9922, 180.8125, 724.1797, 205.45313)
polygons = Array[PackedInt32Array]([PackedInt32Array(0, 1, 2), PackedInt32Array(3, 4, 5, 6), PackedInt32Array(7, 8, 9, 10), PackedInt32Array(11, 12, 10, 9), PackedInt32Array(13, 14, 15, 16), PackedInt32Array(17, 7, 10), PackedInt32Array(18, 19, 20, 21, 22, 23, 24, 10), PackedInt32Array(25, 26, 27, 28), PackedInt32Array(24, 29, 30, 16), PackedInt32Array(18, 31, 32, 19), PackedInt32Array(19, 33, 20), PackedInt32Array(20, 34, 35, 21), PackedInt32Array(36, 37, 38, 39), PackedInt32Array(24, 39, 40, 41, 28), PackedInt32Array(41, 42, 43, 25, 28), PackedInt32Array(24, 16, 15, 44), PackedInt32Array(24, 44, 45), PackedInt32Array(24, 45, 46, 10), PackedInt32Array(36, 39, 24, 23), PackedInt32Array(10, 46, 17)])
outlines = Array[PackedVector2Array]([PackedVector2Array(725, -30, 74, -32, 51, 791, 959, 791)])

[node name="Tutorial1" type="Node2D" node_paths=PackedStringArray("sceneTransition", "colorTransition")]
script = ExtResource("1_k3swd")
sceneTransition = NodePath("SceneTransition/AnimationPlayer")
colorTransition = NodePath("SceneTransition/CanvasLayer/transColor")

[node name="NavigationRegion2D" type="NavigationRegion2D" parent="."]
navigation_polygon = SubResource("NavigationPolygon_1s0ds")

[node name="floor" type="TileMapLayer" parent="NavigationRegion2D"]
tile_map_data = PackedByteArray("AAADAAIAAAAAAAAAAAAEAAIAAAAAAAAAAAAFAAIAAAAAAAAAAAAGAAIAAAAAAAAAAAAHAAIAAAAAAAAAAAAIAAIAAAAAAAAAAAACAAMAAAABAAAAAAADAAMAAAAAAAAAAAAEAAMAAAAAAAAAAAAFAAMAAAAAAAAAAAAGAAMAAAAAAAAAAAAHAAMAAAAAAAAAAAAIAAMAAAAAAAAAAAAJAAMAAAAAAAAAAAAJAAIAAAABAAAAABAJAAQAAAAAAAAAAAAIAAQAAAAAAAAAAAAHAAQAAAAAAAAAAAAGAAQAAAAAAAAAAAAFAAQAAAAAAAAAAAAEAAQAAAAAAAAAAAADAAQAAAAAAAAAAAACAAQAAAABAAAAAAACAAUAAAABAAAAAAADAAUAAAAAAAAAAAAEAAUAAAAAAAAAAAAFAAUAAAAAAAAAAAAGAAUAAAAAAAAAAAAHAAUAAAAAAAAAAAAIAAUAAAAAAAAAAAAJAAUAAAABAAAAABAJAAYAAAABAAAAABAIAAYAAAAAAAAAAAAHAAYAAAAAAAAAAAAGAAYAAAAAAAAAAAAFAAYAAAAAAAAAAAAEAAYAAAAAAAAAAAADAAYAAAAAAAAAAAACAAYAAAABAAAAAAADAAcAAAAAAAAAAAAEAAcAAAAAAAAAAAAFAAcAAAAAAAAAAAAGAAcAAAAAAAAAAAAHAAcAAAAAAAAAAAAIAAcAAAAAAAAAAAAJAAcAAAABAAAAABACAAcAAAABAAAAAAADAAEAAAAAAAAAAAADAAAAAAAAAAAAAAAIAAEAAAAAAAAAAAAIAAAAAAAAAAAAAAAJAAAAAAABAAAAABAJAAEAAAABAAAAABADAAgAAAABAAAAAAAEAAgAAAAAAAAAAAAFAAgAAAAAAAAAAAAGAAgAAAAAAAAAAAAHAAgAAAAAAAAAAAAIAAgAAAABAAAAABAHAAkAAAABAAAAABAGAAkAAAAAAAAAAAAFAAkAAAAAAAAAAAAEAAkAAAABAAAAAAAFAAoAAAABAAAAAAAGAAoAAAABAAAAABACAAAAAAABAAAAAAACAAIAAAABAAAAAAACAAEAAAABAAAAAAAKAAMAAAABAAAAAFAKAAQAAAABAAAAAHALAAQAAAABAAAAAHAMAAQAAAABAAAAAHANAAQAAAABAAAAAHAOAAQAAAABAAAAAHALAAMAAAABAAAAAFAMAAMAAAABAAAAAFANAAMAAAABAAAAAFAOAAMAAAABAAAAAFAPAAMAAAABAAAAAFAPAAQAAAABAAAAAHAKAAIAAAAAAAAAAAAKAAUAAAAAAAAAAAACAAgAAAAAAAQAAAABAAgAAAAAAAQAAAABAAkAAAAAAAQAAAACAAkAAAAAAAQAAAADAAkAAAAAAAQAAAABAAoAAAAAAAQAAAACAAoAAAAAAAQAAAADAAoAAAAAAAQAAAAEAAoAAAAAAAQAAAAEAAsAAAAAAAQAAAAFAAsAAAAAAAQAAAAGAAsAAAAAAAQAAAAHAAsAAAAAAAQAAAAHAAoAAAAAAAQAAAAIAAoAAAAAAAQAAAAJAAoAAAAAAAQAAAAKAAoAAAAAAAQAAAAIAAkAAAAAAAQAAAALAAoAAAAAAAQAAAAMAAoAAAAAAAQAAAAMAAkAAAAAAAQAAAALAAkAAAAAAAQAAAAKAAkAAAAAAAQAAAAJAAkAAAAAAAQAAAAJAAgAAAAAAAQAAAAKAAgAAAAAAAQAAAALAAgAAAAAAAQAAAAMAAgAAAAAAAQAAAANAAgAAAAAAAQAAAAMAAcAAAAAAAQAAAALAAcAAAAAAAQAAAAKAAcAAAAAAAQAAAAKAAYAAAAAAAQAAAALAAYAAAAAAAQAAAAMAAYAAAAAAAQAAAAMAAUAAAAAAAQAAAALAAUAAAAAAAQAAAABAAcAAAAAAAQAAAABAAYAAAAAAAQAAAABAAUAAAAAAAQAAAABAAQAAAAAAAQAAAABAAMAAAAAAAQAAAABAAIAAAAAAAQAAAAAAAIAAAAAAAQAAAAAAAMAAAAAAAQAAAAAAAQAAAAAAAQAAAAAAAUAAAAAAAQAAAAAAAYAAAAAAAQAAAAAAAcAAAAAAAQAAAABAAEAAAAAAAQAAAABAAAAAAAAAAQAAAABAP//AAAAAAQAAAABAP7/AAAAAAQAAAACAP7/AAAAAAQAAAADAP7/AAAAAAQAAAAEAP7/AAAAAAQAAAAFAP7/AAAAAAQAAAAGAP7/AAAAAAQAAAAHAP7/AAAAAAQAAAAIAP7/AAAAAAQAAAAJAP7/AAAAAAQAAAAKAP7/AAAAAAQAAAALAP7/AAAAAAQAAAAMAP7/AAAAAAQAAAAMAP//AAAAAAQAAAAMAAAAAAAAAAQAAAALAAAAAAAAAAQAAAALAAIAAAAAAAQAAAAMAAIAAAAAAAQAAAAMAAEAAAAAAAQAAAALAAEAAAAAAAQAAAAKAAEAAAAAAAQAAAAHAAEAAAAAAAQAAAAGAAEAAAAAAAQAAAAFAAEAAAAAAAQAAAAEAAEAAAAAAAQAAAAEAAAAAAAAAAQAAAAFAAAAAAAAAAQAAAAGAAAAAAAAAAQAAAAHAAAAAAAAAAQAAAAHAP//AAAAAAQAAAAGAP//AAAAAAQAAAAFAP//AAAAAAQAAAAEAP//AAAAAAQAAAADAP//AAAAAAQAAAACAP//AAAAAAQAAAALAP//AAAAAAQAAAAKAP//AAAAAAQAAAAJAP//AAAAAAQAAAAIAP//AAAAAAQAAAAAAP//AAAAAAQAAAA=")
tile_set = ExtResource("1_dm2wn")

[node name="walls" type="TileMapLayer" parent="NavigationRegion2D"]
tile_map_data = PackedByteArray("AAAEAAEAAAADAAEAABAFAAEAAAACAAEAAAAGAAEAAAACAAEAAAAHAAEAAAADAAEAAAAEAAAAAAABAAEAABAHAAAAAAABAAEAAAADAP//AAABAAQAAFACAP//AAABAAQAAFAIAP//AAABAAQAAFAJAP//AAABAAQAAFAEAP//AAAAAAIAABABAP//AAAAAAIAAAAHAP//AAAAAAIAAAAKAP//AAAAAAIAABABAAAAAAABAAEAAAABAAEAAAABAAEAAAABAAIAAAABAAEAAAABAAMAAAABAAEAAAABAAQAAAABAAEAAAABAAUAAAABAAEAAAABAAYAAAABAAEAAAABAAcAAAABAAEAAAAKAAAAAAABAAEAABAKAAEAAAABAAEAABAKAAIAAAAAAAEAAAAKAAYAAAABAAEAABAKAAcAAAABAAEAABACAAgAAAACAAMAAAADAAkAAAACAAMAAAAEAAoAAAACAAMAAAAJAAgAAAADAAMAAAAIAAkAAAADAAMAAAAHAAoAAAADAAMAAAAFAAsAAAADAAIAAAAGAAsAAAADAAIAAAALAAIAAAACAAEAAAAMAAIAAAACAAEAAAANAAIAAAACAAEAAAAOAAIAAAACAAEAAAAPAAIAAAACAAEAAAALAAUAAAABAAEAAGAMAAUAAAABAAEAAGANAAUAAAABAAEAAGAOAAUAAAABAAEAAGAPAAUAAAABAAEAAGAKAAUAAAADAAMAAAA=")
tile_set = ExtResource("1_dm2wn")

[node name="decor" type="TileMapLayer" parent="NavigationRegion2D"]
tile_map_data = PackedByteArray("AAAFAAgAAQAAAAkAAAAGAAgAAQAAAAkAABAEAAkAAQAAAAUAAAAFAAkAAQADAAQAAAAGAAkAAQADAAQAAAAHAAkAAQABAAUAAAA=")
tile_set = ExtResource("1_dm2wn")

[node name="MainUI" parent="." instance=ExtResource("2_4viov")]

[node name="Dialogue" parent="MainUI" index="0"]
custom_minimum_size = Vector2(0, 270)
offset_top = -270.0

[node name="Portrait" parent="MainUI/Dialogue/Dialog" index="1"]
size_flags_vertical = 8

[node name="LocalSuspicionMeter" parent="MainUI/Main/VBoxContainer/Main/LocalSuspicion" index="1"]
allow_lesser = true

[node name="Player" parent="." node_paths=PackedStringArray("PlayerCamera") instance=ExtResource("3_k3swd")]
position = Vector2(443, 338)
PlayerCamera = NodePath("../Camera2D")

[node name="Camera2D" type="Camera2D" parent="."]
position = Vector2(440, 198)
zoom = Vector2(1.2, 0.9)
script = ExtResource("4_xa533")

[node name="Pistol" parent="." instance=ExtResource("7_nkbej")]
position = Vector2(327, 179)
scale = Vector2(0.5, 0.5)
DialogueOptions = PackedStringArray("Examine", "What do I do with this?", "Take", "Leave")
DialogResponses = PackedStringArray("Its seen a lot of use, but looks to function well enough.", "You can pick it up. To see if it\'s in your inventory, press tab. You can equip it in your inventory or dequip it in your main bar in the bottom left.", "The Pistol is now in your inventory")

[node name="TutorialNPC" parent="." instance=ExtResource("8_daijy")]
position = Vector2(436, 194)
DialogueOptions = PackedStringArray("Why am I infiltrating a Yakuza ship again?", "What do I need to do?", "What is Local Suspicion? ", "What is Global Suspicion?", "Can you refresh me on my combat training?", "Can you reset the ships Suspicion?", "Leave")
DialogResponses = PackedStringArray("You are here to take revenge against your Father, who left you for dead at a young age. You then plan to take over his Yakuza empire to remake it in your image so that he is forever forgotten.", "You need to get to the end of the ship so you can claim vengeance against your father. Security is light, so most passageways should be open, but a few may be locked. You will need to find a matching keycard or alternate route to get past them.", "Local Suspicion is how aware the Canines in a room are of you being an intruder. Staying around too long, certain actions, or outright violence can cause this to increase. If it get to 100% everyone in the room will either attack or run away from you, depending on the color of their health bar.", "Global Suspicion is a culmination of the USS Gaiaâ€™s awareness of you. As more and more room have their local suspicion increase, global suspicion will rise in turn. If this gets to 100% you will be caught and quartered. Best try to avoid that.", "Of course. Use LMB to perform a melee attack in the direction you are facing. If you have a ranged weapon equipped, use RMB to fire a projectile in the direction of your cursor. ", "It is done sir.", "Ok :(")

[node name="Chihuahua" parent="." instance=ExtResource("9_1s0ds")]
position = Vector2(215, 67)
collision_mask = 15
Damage = 0
Speed = 0.0
Health = 50000
maxHealth = 50000
InitialDialog = "I'm a melee dummy. Feel free to talk to me or attack me for practice."
DialogueOptions = PackedStringArray("*Make small talk*", "I\'m going to kill you!", "Goodybe")
DialogResponses = PackedStringArray("If I were a real dog, I would respond with some witty text.", "A threat like that will increase local suspicion.")
DialogSuspicion = PackedFloat32Array(0, 5)

[node name="NavigationAgent2D" parent="Chihuahua" index="4"]
avoidance_enabled = false

[node name="Husky" parent="." instance=ExtResource("10_x2143")]
position = Vector2(649, 60)
collision_mask = 15
Damage = 0
Speed = 0.0
Health = 5000
maxHealth = 5000
InitialDialog = "I'm a ranged dummy. Feel free to talk to me or attack me for practice."
DialogueOptions = PackedStringArray("*Make small talk*", "I\'m going to kill you!", "Goodbye.")
DialogResponses = PackedStringArray("If I were a real dog, I would respond with some witty text.", "A threat like that will increase local suspicion.")
DialogSuspicion = PackedFloat32Array(0, 5)

[node name="NavigationAgent2D" parent="Husky" index="4"]
avoidance_enabled = false

[node name="BlueDoor" parent="." node_paths=PackedStringArray("sceneTransition") instance=ExtResource("10_1s0ds")]
position = Vector2(889, 288)
rotation = 1.5707964
sceneTransition = NodePath("../SceneTransition/AnimationPlayer")

[node name="Blue Key" parent="." instance=ExtResource("11_x2143")]
position = Vector2(552, 179)
scale = Vector2(0.5, 0.5)
DialogueOptions = PackedStringArray("Examine", "What do I do with this?", "Take", "Leave")
DialogResponses = PackedStringArray("Upon closer inspection, it looks like some sort of key card.", "You can pick it up. To see if it\'s in your inventory, press tab.", "You pick up the key")
DialogSuspicion = PackedFloat32Array(0, 0, 4)

[node name="SceneTransition" parent="." instance=ExtResource("12_uri7o")]

[editable path="MainUI"]
[editable path="Chihuahua"]
[editable path="Husky"]
[editable path="SceneTransition"]
